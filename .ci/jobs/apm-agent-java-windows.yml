---
- job:
    name: apm-agent-java/apm-agent-java-windows
    display-name: APM Agent Java on Windows
    description: APM Agent Java on Windows
    view: APM-CI
    project-type: pipeline
    parameters:
      - string:
          name: REFSPEC
          default: master
          description: What git reference?
      - string:
          name: JAVA_VERSION
          default: java11
          description: What Java version?
      - string:
          name: MAVEN_CONFIG
          default: -V -B 
          description: Additional maven options.
    pipeline-scm:
      script-path: .ci/windows.groovy
      scm:
        - git:
            url: git@github.com:elastic/apm-agent-java.git
            refspec: +refs/heads/*:refs/remotes/origin/* +refs/pull/*/head:refs/remotes/origin/pr/*
            wipe-workspace: 'True'
            name: origin
            shallow-clone: true
            credentials-id: f6c7695a-671e-4f4f-a331-acdce44ff9ba
            reference-repo: /var/lib/jenkins/.git-references/apm-agent-java.git
            branches:
              - $REFSPEC
    triggers:
      - timed: 'H H(1-4) * * 0'
